<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Start parsing an XML document</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.xml-parse-into-struct.html">« xml_parse_into_struct</a></li>
      <li style="float: right;"><a href="function.xml-parser-create-ns.html">xml_parser_create_ns »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.xml.html">XML Parser Functions</a></li>
    <li>Start parsing an XML document</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.xml-parse" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">xml_parse</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">xml_parse</span> &mdash; <span class="dc-title">Start parsing an XML document</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.xml-parse-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>xml_parse</strong></span>(<span class="methodparam"><span class="type"><a href="class.xmlparser.html" class="type XMLParser">XMLParser</a></span> <code class="parameter">$parser</code></span>, <span class="methodparam"><span class="type">string</span> <code class="parameter">$data</code></span>, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$is_final</code><span class="initializer"> = <strong><code>false</code></strong></span></span>): <span class="type">int</span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>xml_parse()</strong></span> parses an XML document. The handlers for
   the configured events are called as many times as necessary.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.xml-parse-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">parser</code></dt>

     <dd>

      <p class="para">
       A reference to the XML parser to use.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">data</code></dt>

     <dd>

      <p class="para">
       Chunk of data to parse.  A document may be parsed piece-wise by
       calling <span class="function"><strong>xml_parse()</strong></span> several times with new data,
       as long as the <code class="parameter">is_final</code> parameter is set and
       <strong><code>true</code></strong> when the last data is parsed.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">is_final</code></dt>

     <dd>

      <p class="para">
       If set and <strong><code>true</code></strong>, <code class="parameter">data</code> is the last piece of
       data sent in this parse.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.xml-parse-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns 1 on success or 0 on failure.
  </p>
  <p class="para">
   For unsuccessful parses, error information can be retrieved with
   <span class="function"><a href="function.xml-get-error-code.html" class="function">xml_get_error_code()</a></span>,
   <span class="function"><a href="function.xml-error-string.html" class="function">xml_error_string()</a></span>,
   <span class="function"><a href="function.xml-get-current-line-number.html" class="function">xml_get_current_line_number()</a></span>,
   <span class="function"><a href="function.xml-get-current-column-number.html" class="function">xml_get_current_column_number()</a></span> and
   <span class="function"><a href="function.xml-get-current-byte-index.html" class="function">xml_get_current_byte_index()</a></span>.
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    Some errors (such as entity errors) are reported at the end of the data, thus only if
    <code class="parameter">is_final</code> is set and <strong><code>true</code></strong>.
   </p>
  </p></blockquote>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.xml-parse-changelog">
  <h3 class="title">Changelog</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Version</th>
      <th>Description</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
 <td>8.0.0</td>
 <td>
  <code class="parameter">parser</code> expects an <span class="classname"><a href="class.xmlparser.html" class="classname">XMLParser</a></span>
  instance now; previously, a <span class="type">resource</span> was expected.
 </td>
</tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.xml-parse-examples">
  <h3 class="title">Examples</h3>
  <div class="example" id="xml_parse.example.chunked">
   <p><strong>Example #1 Chunked parsing of large XML documents</strong></p>
   <div class="example-contents"><p>
     This example shows how large XML documents can be read and parsed in
     chunks, so that it not necessary to keep the whole document in memory.
     Error handling is omitted for brevity.
   </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$stream&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'large.xml'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'r'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$parser&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">xml_parser_create</span><span style="color: #007700">();<br /></span><span style="color: #FF8000">//&nbsp;set&nbsp;up&nbsp;the&nbsp;handlers&nbsp;here<br /></span><span style="color: #007700">while&nbsp;((</span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fread</span><span style="color: #007700">(</span><span style="color: #0000BB">$stream</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">16384</span><span style="color: #007700">)))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">xml_parse</span><span style="color: #007700">(</span><span style="color: #0000BB">$parser</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;parse&nbsp;the&nbsp;current&nbsp;chunk<br /></span><span style="color: #007700">}<br /></span><span style="color: #0000BB">xml_parse</span><span style="color: #007700">(</span><span style="color: #0000BB">$parser</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;finalize&nbsp;parsing<br /></span><span style="color: #0000BB">xml_parser_free</span><span style="color: #007700">(</span><span style="color: #0000BB">$parser</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$stream</span><span style="color: #007700">);</span>
</span>
</code></div>
   </div>

  </div>
 </div>


</div></div></div></body></html>