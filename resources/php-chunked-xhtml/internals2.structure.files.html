<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Files which make up an extension</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="internals2.structure.html">« Extension structure</a></li>
      <li style="float: right;"><a href="internals2.structure.basics.html">Basic constructs »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="internals2.structure.html">Extension structure</a></li>
    <li>Files which make up an extension</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="internals2.structure.files" class="sect1">
  <h2 class="title">Files which make up an extension</h2>
  <p class="para">
   Whether created by hand, using <strong class="command">ext_skel</strong>, or by an
   alternate extension generator, such as
   <a href="http://codegenerators.php-baustelle.de/" class="link external">&raquo;&nbsp;CodeGen</a>,
   all extensions will have at least four files:
  </p>

  <dl>

   
    <dt>
<var class="filename">config.m4</var></dt>

    <dd>

     <p class="para">
      UNIX build system configuration (see
      <a href="internals2.buildsys.configunix.html" class="xref">Talking to the UNIX build system: config.m4</a>)
     </p>
    </dd>

   

   
    <dt>
<var class="filename">config.w32</var></dt>

    <dd>

     <p class="para">
      Windows buildsystem configuration (see
      <a href="internals2.buildsys.configwin.html" class="xref">Talking to the Windows build system: config.w32</a>)
     </p>
    </dd>

   
   
   
    <dt>
<var class="filename">php_counter.h</var></dt>

    <dd>

     <p class="para">
      When building an extension as static module into the PHP binary the
      build system expects a header file with <code class="literal">php_</code>
      prepended to the extension name which includes a declaration for a
      pointer to the extension&#039;s module structure. This file usually contains
      additional macros, prototypes, and globals, just like any header.
     </p>
    </dd>

   
   
   
    <dt>
<var class="filename">counter.c</var></dt>

    <dd>

     <p class="para">
      Main extension source file. By convention, the name of this file
      is the extension name, but this is not a requirement. This file
      contains the module structure declaration, INI entries, management
      functions, userspace functions, and other requirements of an extension.
     </p>
    </dd>

   
  </dl>

  
  <p class="para">
   The buildsystem files are discussed elsewhere; this section concentrates on
   the rest. These four files make up the bare minimum for an extension, which
   may also contain any number of headers, source files, unit tests, and other
   support files. The list of files in the counter extension might look like
   this:
  </p>
  
  <div class="example" id="example-6027">
   <p><strong>Example #1 Files in the counter extension, in no particular order</strong></p>
   <div class="example-contents screen">
<div class="cdata"><pre>
ext/
 counter/
  .svnignore
  config.m4
  config.w32
  counter_util.h
  counter_util.c
  php_counter.h
  counter.c
  package.xml
  CREDITS
  tests/
   critical_function_001.phpt
   critical_function_002.phpt
   optional_function_001.phpt
   optional_function_002.phpt
</pre></div>
   </div>
  </div> 
  
  <div class="sect2" id="internals2.structure.files.misc-files">
   <h3 class="title">Non-source files</h3>
   <p class="para">
    The <var class="filename">.svnignore</var> file is used for extensions which are
    checked into the PHP <strong class="command">Subversion</strong> repository (usually
    <a href="https://pecl.php.net/" class="link external">&raquo;&nbsp;PECL</a>); the one generated by <strong class="command">ext_skel</strong> contains:
   </p>
  
   <div class="informalexample">
    <div class="example-contents">
<div class="svnignorecode"><pre class="svnignorecode">.deps
*.lo
*.la</pre>
</div>
    </div>

   </div>
  
   <p class="para">
    These lines tell <strong class="command">Subversion</strong> to ignore interim files generated
    by the PHP buildsystem. This is only a convenience, and can be omitted
    completely without ill effect.
   </p>
   
   <p class="para">
    The <var class="filename">CREDITS</var> file lists the contributors and/or
    maintainers of the extension in plain text format. The main purpose of 
    this file is generating the credits information for bundled extensions as
    used by <span class="function"><a href="function.phpcredits.html" class="function">phpcredits()</a></span>. By convention the first line of
    the file should hold the name of the extension, the second a comma 
    separated list of contributors. The contributors are usually ordered by the
    chronological order of their contributions. In a <a href="https://pecl.php.net/" class="link external">&raquo;&nbsp;PECL</a> package,
    this information is already maintained in <var class="filename">package.xml</var>,
    for example. This is another file which can be omitted without ill effect.
   </p>
   
   <p class="para">
    The <var class="filename">package.xml</var> file is specific to <a href="https://pecl.php.net/" class="link external">&raquo;&nbsp;PECL</a>-based
    extensions; it is a metainformation file which gives details about an
    extension&#039;s dependencies, authors, installation requirements, and other
    tidbits. In an extension not being hosted in <a href="https://pecl.php.net/" class="link external">&raquo;&nbsp;PECL</a>, this file is
    extraneous.
   </p>
  </div>
  
 </div></div></div></body></html>