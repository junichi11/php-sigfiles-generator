<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Differences from POSIX regex</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="reference.pcre.pattern.differences.html">« Differences From Perl</a></li>
      <li style="float: right;"><a href="ref.pcre.html">PCRE Functions »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="pcre.pattern.html">PCRE Patterns</a></li>
    <li>Differences from POSIX regex</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="reference.pcre.pattern.posix" class="article">
 <h1>Differences from POSIX regex</h1>


 <p class="para">
  As of PHP 5.3.0, the <a href="book.regex.html" class="link">POSIX Regex</a> extension
  is deprecated. There are a number of differences between POSIX regex and
  PCRE regex. This page lists the most notable ones that are necessary to
  know when converting to PCRE.
 </p>

 <p class="para">
  <ol type="1">
   <li class="listitem">
    <span class="simpara">
     The PCRE functions require that the pattern is enclosed by <a href="regexp.reference.delimiters.html" class="link">delimiters</a>.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     Unlike POSIX, the PCRE extension does not have dedicated functions for
     case-insensitive matching. Instead, this is supported using the 
     <em class="emphasis">i</em> (<code class="literal">PCRE_CASELESS</code>) <a href="reference.pcre.pattern.modifiers.html" class="link">pattern modifier</a>. Other
     pattern modifiers are also available for changing the matching strategy.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     The POSIX functions find the longest of the leftmost match, but PCRE
     stops on the first valid match. If the string doesn&#039;t match at all it
     makes no difference, but if it matches it may have dramatic effects on
     both the resulting match and the matching speed.
    </span>
    <span class="simpara">
     To illustrate this difference, consider the following example from
     &quot;Mastering Regular Expressions&quot; by Jeffrey Friedl. Using the pattern
     <code class="literal">one(self)?(selfsufficient)?</code> on the string
     <code class="literal">oneselfsufficient</code> with PCRE will result in matching
     <code class="literal">oneself</code>, but using POSIX the result will be the full
     string <code class="literal">oneselfsufficient</code>. Both (sub)strings match the
     original string, but POSIX requires that the longest be the result.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     The POSIX definition of a &quot;character class&quot; differs from that of PCRE.
     Simple bracket expressions to match a set of explicit characters are
     supported in the form of PCRE
     <a href="regexp.reference.character-classes.html" class="link">character classes</a>
     but POSIX collating elements, character classes and character equivalents
     are not supported.
    </span>
    <span class="simpara">
     Supplying an expression with a character class that both starts and ends
     with <code class="literal">:</code>, <code class="literal">.</code> or <code class="literal">=</code>
     characters to PCRE is interpreted as an attempt to use one of these
     unsupported features and causes a compilation error.
    </span>
   </li>
  </ol>
 </p>

 <p class="para">
  <table class="doctable table">
   <caption><strong>Function replacements</strong></caption>
   
    <thead>
     <tr>
      <th>POSIX</th>
      <th>PCRE</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td><span class="function"><a href="function.ereg-replace.html" class="function">ereg_replace()</a></span></td>
      <td><span class="function"><a href="function.preg-replace.html" class="function">preg_replace()</a></span></td>
     </tr>

     <tr>
      <td><span class="function"><a href="function.ereg.html" class="function">ereg()</a></span></td>
      <td><span class="function"><a href="function.preg-match.html" class="function">preg_match()</a></span></td>
     </tr>

     <tr>
      <td><span class="function"><a href="function.eregi-replace.html" class="function">eregi_replace()</a></span></td>
      <td><span class="function"><a href="function.preg-replace.html" class="function">preg_replace()</a></span></td>
     </tr>

     <tr>
      <td><span class="function"><a href="function.eregi.html" class="function">eregi()</a></span></td>
      <td><span class="function"><a href="function.preg-match.html" class="function">preg_match()</a></span></td>
     </tr>

     <tr>
      <td><span class="function"><a href="function.split.html" class="function">split()</a></span></td>
      <td><span class="function"><a href="function.preg-split.html" class="function">preg_split()</a></span></td>
     </tr>

     <tr>
      <td><span class="function"><a href="function.spliti.html" class="function">spliti()</a></span></td>
      <td><span class="function"><a href="function.preg-split.html" class="function">preg_split()</a></span></td>
     </tr>

     <tr>
      <td><span class="function"><a href="function.sql-regcase.html" class="function">sql_regcase()</a></span></td>
      <td><em class="emphasis">No equivalent</em></td>
     </tr>

    </tbody>
   
  </table>

 </p>
</div>
</div></div></body></html>